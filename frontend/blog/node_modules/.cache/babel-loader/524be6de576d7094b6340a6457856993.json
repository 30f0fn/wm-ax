{"ast":null,"code":"var _jsxFileName = \"/home/mw/cs/blog/frontend/blog/src/views/latest_posts.js\";\nimport React, { Component } from 'react';\nimport { Helmet } from 'react-helmet'; // import striptags from 'striptags';\n\nimport Fetchers from '../utilities/fetchers.js'; // import {ExtendingList, ProfileMini} from '../../components/extending-list.js';\n// import {RecommendationsSidebar, RecommendationsSidebarPanel, CommunityMini, TopicMini} from '../../components/recommendations-sidebar.js';\n// import {TruncateHtml} from '../../utilities/formatting.js';\n\nclass TopicsListView extends Component {\n  constructor(props) {\n    super(props); // this.fallback_data = data;\n\n    const fieldFilters = {\n      'all_topics': ''\n    };\n    const fieldPageNums = {\n      'all_topics': 0\n    };\n    this.state = {\n      fieldFilters,\n      fieldPageNums\n    };\n    this.title = \"Topics\";\n    this.fetchData = Fetchers.fetchData.bind(this);\n    this.filteredField = FieldFilter.filteredField.bind(this);\n    this.paginatedField = FieldPaginator.paginatedField.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  render() {\n    const {\n      popular_topics,\n      recommended_topics,\n      all_topics\n    } = this.state;\n\n    if (!popular_topics) {\n      return \"loading...\";\n    }\n\n    const fieldData = this.filteredField('all_topics');\n    const fieldPaginator = this.paginatedField('all_topics', fieldData.contents);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Helmet, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"meta\", {\n      charSet: \"utf-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"Docsie Social - \", this.title)), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(RecommendationsHeader, {\n      headingStr: \"Popular Topics\",\n      recommendedList: popular_topics,\n      itemRenderer: TopicRenderer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(RecommendationCardPanel, {\n      headingStr: \"Recommended Topics\",\n      contentList: recommended_topics,\n      itemRenderer: TopicDisplayCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(PaginatedLongListBrowser, {\n      headingStr: \"All topics\",\n      fieldData: fieldData,\n      paginator: fieldPaginator,\n      itemRenderer: TopicMini\n      /* pageNum={this.fieldPageNums('all_topics')} */\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nclass LatestPosts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.title = \"All Posts\";\n    this.fetchData = Fetchers.fetchData.bind(this);\n    this.fetchMoreData = Fetchers.fetchMoreData.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  render() {\n    const {\n      latest_posts,\n      more\n    } = this.state;\n\n    if (!latest_posts) {\n      return \"loading...\";\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Helmet, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"meta\", {\n      charSet: \"utf-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, \"MMW - \", this.title)), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cf fl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fl w-90 pr2 justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ExtendingList, {\n      headingStr: \"Latest posts\",\n      contentsList: latest_posts,\n      itemRenderer: PostPreview,\n      extender: () => this.fetchMoreData('latest_posts', 10),\n      more: more,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    }))));\n  }\n\n}\n\nexport default LatestPosts;","map":{"version":3,"sources":["/home/mw/cs/blog/frontend/blog/src/views/latest_posts.js"],"names":["React","Component","Helmet","Fetchers","TopicsListView","constructor","props","fieldFilters","fieldPageNums","state","title","fetchData","bind","filteredField","FieldFilter","paginatedField","FieldPaginator","componentDidMount","render","popular_topics","recommended_topics","all_topics","fieldData","fieldPaginator","contents","TopicRenderer","TopicDisplayCard","TopicMini","LatestPosts","fetchMoreData","latest_posts","more","PostPreview"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Helmet} from 'react-helmet';\n\n// import striptags from 'striptags';\n\nimport Fetchers from '../utilities/fetchers.js';\n\n// import {ExtendingList, ProfileMini} from '../../components/extending-list.js';\n// import {RecommendationsSidebar, RecommendationsSidebarPanel, CommunityMini, TopicMini} from '../../components/recommendations-sidebar.js';\n\n// import {TruncateHtml} from '../../utilities/formatting.js';\n\n\n\n\n\n\nclass TopicsListView extends Component {\n\n    constructor(props) {\n        super(props);\n\n        // this.fallback_data = data;\n\n        const fieldFilters = {'all_topics': ''};\n        const fieldPageNums = {'all_topics': 0};\n\n        this.state = {fieldFilters, fieldPageNums};\n        this.title = \"Topics\";\n        \n        this.fetchData = Fetchers.fetchData.bind(this);        \n\n        this.filteredField = FieldFilter.filteredField.bind(this);\n        this.paginatedField = FieldPaginator.paginatedField.bind(this);\n    }\n\n    componentDidMount() {\n        this.fetchData();\n    }\n\n    render() {\n        const {popular_topics,\n               recommended_topics,\n               all_topics}\n              = this.state;\n        if (!popular_topics) {\n            return \"loading...\";\n        }\n        const fieldData=this.filteredField('all_topics');\n        const fieldPaginator=this.paginatedField('all_topics', fieldData.contents);\n        return (\n            <div className=\"page\">\n              <Helmet>\n                <meta charSet=\"utf-8\" />\n                <title>Docsie Social - {this.title}</title>\n              </Helmet>\n              <hr/>\n              {/* <h1>Topics</h1> */}\n              <RecommendationsHeader\n                headingStr=\"Popular Topics\"\n                recommendedList={popular_topics}\n                itemRenderer={TopicRenderer}\n              />\n              <hr/>\n              <RecommendationCardPanel\n                headingStr=\"Recommended Topics\"\n                contentList={recommended_topics}\n                itemRenderer={TopicDisplayCard}\n              />\n              <hr/>\n                <PaginatedLongListBrowser\n                  headingStr=\"All topics\"\n                  fieldData={fieldData}\n                  paginator={fieldPaginator}\n                  itemRenderer={TopicMini}\n                  /* pageNum={this.fieldPageNums('all_topics')} */\n                />\n            </div>\n        );\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\nclass LatestPosts extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {};\n        this.title = \"All Posts\";\n\n        this.fetchData = Fetchers.fetchData.bind(this);        \n        this.fetchMoreData = Fetchers.fetchMoreData.bind(this);\n        \n    }\n\n    componentDidMount() {\n        this.fetchData();\n    }\n    \n    render() {\n        const {latest_posts,\n               more,\n              }\n              = this.state;\n        if (!latest_posts) {\n            return \"loading...\";\n        }\n        return (\n            <div className=\"page\">\n              <Helmet>\n                <meta charSet=\"utf-8\" />\n                <title>MMW - {this.title}</title>\n              </Helmet>\n              <hr/>\n              <div className=\"cf fl\">\n                <div className=\"fl w-90 pr2 justify-center\">\n                  <ExtendingList\n                    headingStr=\"Latest posts\"\n                    contentsList={latest_posts}\n                    itemRenderer={PostPreview}\n                    extender={() =>\n                              this.fetchMoreData('latest_posts', 10)\n                             }\n                    more={more}\n                  />\n                </div>\n              </div>\n            </div>\n        );\n    }\n}\n\n\n\nexport default LatestPosts\n"]},"metadata":{},"sourceType":"module"}